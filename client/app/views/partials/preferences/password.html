<div class="form-group" data-ng-class="{'has-error': preferencesForm.oldpassword.$error.required}">
  <label>
    <span data-translate>Current Password</span>
    <span class="text-red" uib-popover="{{'This field is mandatory' | translate}}" popover-placement="right" popover-trigger="mouseenter">*</span>
  </label>
  <input class="form-control" name="oldpassword" data-ng-model="preferences.old_password" type="password" required />
  <p class="text-red" data-ng-show="preferencesForm.oldpassword.$error.required">
    <span data-translate>Old password confirmation required</span>
  </p>
</div>

<div class="form-group" data-ng-class="{'has-error': preferencesForm.password.$error.required || preferencesForm.password.$error.passwordStrength}">
  <label>
    <span data-translate>New Password</span>
    <span class="text-red" uib-popover="{{'This field is mandatory' | translate}}" popover-placement="right" popover-trigger="mouseenter">*</span>
  </label>
  <input class="form-control" name="password" data-ng-model="preferences.password" type="password" zxcvbn="passwordStrength" zx-min-score="3" required />
  <zx-password-meter value="passwordStrength"></zx-password-meter>
</div>

<div class="form-group" data-ng-class="{'has-error': preferencesForm.checkpassword.$error.required || preferences.password !== preferences.check_password}">
  <label>
    <span data-translate>Type your new password again</span>
    <span class="text-red" uib-popover="{{'This field is mandatory' | translate}}" popover-placement="right" popover-trigger="mouseenter">*</span>
  </label>
  <input class="form-control" name="checkpassword" data-ng-model="preferences.check_password" type="password" required/>
  <p class="text-red" data-ng-show="preferences.password && (preferences.password !== preferences.check_password)">
    <span data-translate>The two passwords do not match</span>
  </p>
</div>

<button type="submit" class="btn btn-success" data-ng-disabled="preferencesForm.$invalid || preferencesForm.$pristine || preferences.password !== preferences.check_password" data-ng-click="pass_save()">
  <i class="glyphicon glyphicon-ok"></i>
  <span data-translate>Save</span>
</button>
